<div class="dfm-layout" *ngIf="user; else loader">
  <dfm-navigation-bar
    [navigationItems]="navItems"
    [isNotificationsCounterShown]="true"
    [notifications]="(notifications$$ | async) ?? []"
    [isMessagesCounterShown]="true"
    [messages]="(messages$$ | async) ?? []"
    [isTenantDropdownShown]="true"
    [tenants]="languages"
    [currentTenant]="(currentTenant$$ | async) ?? 'nl-BE'"
    (tenantChanged)="onLanguageChange($event)"
    [isProfileShown]="true"
    [profileData]="profileData"
    logoPath="assets/images/scheduler-logo.svg"
    miniLogoPath="assets/images/scheduler-logo-mobile.svg"
    (logout)="logout()"
    (notificationsDismissed)="onDismissed($event, 'appointment')"
    (messagesDismissed)="onDismissed($event, 'post-its')"
    [isSettingsButtonShown]="false"
  >
    <mat-progress-bar *ngIf="isLoaderActive$$ | async" mode="indeterminate"></mat-progress-bar>
    <div class="dfm-content content-height" #content>
      <router-outlet></router-outlet>
    </div>
  </dfm-navigation-bar>
</div>

<ng-template #loader>
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</ng-template>
