import { Component, ElementRef, EventEmitter, HostListener, Input, Optional, Output, ViewChild, ViewChildren, } from '@angular/core';
import { Dropdown } from 'bootstrap';
import { ItemsCompactHelper } from '../../helpers/items-compact-helper';
import { BaseControlValueAccessor } from '../base-control-value-accessor';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@angular/common";
import * as i3 from "../icon/components/icon/icon.component";
import * as i4 from "../input/input.component";
import * as i5 from "../tag/tag.component";
import * as i6 from "../error/error.component";
import * as i7 from "../../directives/dom-change.directive";
export class InputDropdownComponent extends BaseControlValueAccessor {
    constructor(changeDetectionRef, control, eRef) {
        super();
        this.changeDetectionRef = changeDetectionRef;
        this.control = control;
        this.eRef = eRef;
        this.items = [];
        this.label = '';
        this.placeholder = '';
        this.hint = '';
        this.showDescription = true;
        this.multiple = false;
        this.size = 'md';
        this.icon = '';
        this.minQueryLength = 0;
        this.typeToSearch = false;
        this.typeToSearchText = '';
        this.loading = false;
        this.asyncSearch = false;
        this.searchInput = new EventEmitter();
        this.menuClosed = new EventEmitter();
        this.search = '';
        this.selectedItemTags = [];
        this.filteredItems = [];
        this.defaultMultipleDropdownPaddingRight = 8;
        this.multipleDropdownWithIconPaddingRight = 51;
        this.isDropdownClosed = true;
        this.selectedItems = [];
        this.wasInside = false;
        this.value = null;
        if (this.control) {
            this.control.valueAccessor = this;
        }
    }
    clickInside() {
        this.wasInside = true;
    }
    clickout() {
        if (!this.wasInside) {
            this.dropdownInstance?.hide();
        }
        this.wasInside = false;
    }
    ngOnInit() {
        if (this.minQueryLength && !this.typeToSearchText) {
            this.typeToSearchText = `Please enter ${this.minQueryLength} or more characters`;
        }
        this.filteredItems = [...this.items];
    }
    ngAfterViewInit() {
        this.dropdownInstance = Dropdown.getOrCreateInstance(this.dropdownRef.nativeElement, {
            offset: [0, 3],
        });
    }
    ngOnChanges(changes) {
        if (changes['items']?.previousValue !== changes['items']?.currentValue) {
            this.filteredItems = [...changes['items'].currentValue];
        }
    }
    writeValue(value) {
        this.resetInputDropdown();
        if (!this.multiple) {
            const item = this.items.find((i) => i.value === value);
            if (item) {
                this.updateInputDropdown(item, true);
            }
        }
        else if (value && value.length) {
            const items = this.items.filter((i) => value.includes(i.value));
            items.forEach((i) => this.updateInputDropdown(i, false));
        }
    }
    updateSearch(query) {
        this.search = query;
        if (!this.multiple && this.value) {
            this.value = null;
        }
        if (query && query.length >= this.minQueryLength) {
            this.searchInput.emit(query);
        }
        else {
            this.filteredItems = this.asyncSearch ? [] : [...this.items];
        }
    }
    searchItems(query) {
        const lowerCaseQuery = query.toLowerCase();
        this.filteredItems = this.items.filter((i) => i.name.toLowerCase().includes(lowerCaseQuery) ||
            i.value.toLowerCase().includes(lowerCaseQuery) ||
            i.description?.toLowerCase().includes(lowerCaseQuery));
    }
    selectItem(item) {
        const isSelected = this.multiple ? this.value && this.value.includes(item.value) : this.value === item.value;
        this.updateInputDropdown(item, isSelected);
    }
    removeItem(item) {
        this.updateMultiInputDropdown(item, true);
    }
    updateSelectedItems() {
        const itemsUnion = ItemsCompactHelper.getItemsUnion();
        this.selectedItemTags = [...this.selectedItems, itemsUnion];
        this.changeDetectionRef.detectChanges();
        const { items, itemsUnionIndex, containerWidth } = ItemsCompactHelper.compactItems(this.selectedItemTags, this.searchInputRef.nativeElement.offsetWidth - 210, 8, this.selectedItemsRef);
        this.selectedItemTags = [...items];
        this.selectedItemTagsUnionIndex = itemsUnionIndex;
        const paddingRight = this.typeToSearch ? this.defaultMultipleDropdownPaddingRight : this.multipleDropdownWithIconPaddingRight;
        this.searchInputRef.nativeElement.querySelector('.dfm-input').style.paddingRight = `${containerWidth + paddingRight}px`;
    }
    openDropdown() {
        this.dropdownInstance?.show();
    }
    checkIfDropdownIsClosed(mutationRecord) {
        if (mutationRecord.type === 'attributes' && mutationRecord.attributeName === 'class') {
            this.isDropdownClosed = !this.isDropdownClosed;
            if (this.isDropdownClosed) {
                this.menuClosed.emit();
            }
        }
    }
    updateInputDropdown(item, isSelected) {
        if (this.multiple) {
            this.updateMultiInputDropdown(item, isSelected);
        }
        else {
            this.updateSingleInputDropdown(item);
        }
    }
    updateMultiInputDropdown(item, isSelected) {
        if (isSelected) {
            this.value = this.value.filter((i) => i !== item.value);
            this.selectedItems = this.selectedItems.filter((i) => i.value !== item.value);
        }
        else {
            this.value = this.value && this.value.length ? [...this.value, item.value] : [item.value];
            this.selectedItems.push(item);
        }
        this.updateSelectedItems();
        this.filteredItems = this.asyncSearch ? [] : [...this.items];
        this.search = '';
    }
    updateSingleInputDropdown(item) {
        this.setSingleInputDropdown(item);
    }
    setSingleInputDropdown(item) {
        this.value = item.value;
        this.search = item.name;
        if (this.asyncSearch) {
            this.filteredItems = [item];
        }
        this.dropdownInstance?.hide();
    }
    resetInputDropdown() {
        this.value = null;
        this.search = '';
        this.selectedItems = [];
        this.filteredItems = this.asyncSearch ? [] : [...this.items];
        this.updateSelectedItems();
    }
    focusout(value) {
        setTimeout(() => {
            if (!this.search) {
                this.onTouch(value);
            }
        }, 250);
    }
}
InputDropdownComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: InputDropdownComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i1.NgControl, optional: true }, { token: i0.ElementRef }], target: i0.ɵɵFactoryTarget.Component });
InputDropdownComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "14.2.12", type: InputDropdownComponent, selector: "dfm-input-dropdown", inputs: { items: "items", label: "label", placeholder: "placeholder", hint: "hint", showDescription: "showDescription", multiple: "multiple", size: "size", icon: "icon", minQueryLength: "minQueryLength", typeToSearch: "typeToSearch", typeToSearchText: "typeToSearchText", loading: "loading", asyncSearch: "asyncSearch" }, outputs: { searchInput: "searchInput", menuClosed: "menuClosed" }, host: { listeners: { "click": "clickInside()", "document:click": "clickout($event)" } }, viewQueries: [{ propertyName: "selectedItemsContainerRef", first: true, predicate: ["selectedItemsContainerRef"], descendants: true }, { propertyName: "searchInputRef", first: true, predicate: ["searchInputRef"], descendants: true, read: ElementRef }, { propertyName: "dropdownRef", first: true, predicate: ["dropdown"], descendants: true }, { propertyName: "selectedItemsRef", predicate: ["selectedItemRef"], descendants: true, read: ElementRef }], usesInheritance: true, usesOnChanges: true, ngImport: i0, template: "<div class=\"dropdown input-dropdown input-dropdown-{{ size }}\">\n  <div #dropdown>\n    <div class=\"input-container\">\n      <dfm-input\n        [placeholder]=\"placeholder\"\n        [icon]=\"icon\"\n        [size]=\"size\"\n        [ngModel]=\"search\"\n        (ngModelChange)=\"updateSearch($event)\"\n        (focusout)=\"focusout($event)\"\n        [isInvalid]=\"!!(control && control.touched && !control.valid)\"\n        [readonly]=\"!typeToSearch\"\n        [label]=\"label\"\n        (click)=\"openDropdown()\"\n        #searchInputRef\n      ></dfm-input>\n      <dfm-icon name=\"chevron-down\" *ngIf=\"!typeToSearch\" class=\"dropdown-icon\"></dfm-icon>\n    </div>\n  </div>\n  <div *ngIf=\"selectedItemTags.length\" class=\"selected-items\" [class.selected-items-with-dropdown-icon]=\"!typeToSearch\" #selectedItemsContainerRef>\n    <dfm-tag\n      *ngFor=\"let selectedItem of selectedItemTags; let i = index\"\n      color=\"brown\"\n      [action]=\"selectedItemTagsUnionIndex === i ? null : 'close'\"\n      size=\"lg\"\n      (closeAction)=\"removeItem(selectedItem)\"\n      #selectedItemRef\n      >{{ selectedItem.name }}</dfm-tag\n    >\n  </div>\n  <span *ngIf=\"hint\" class=\"dfm-input-hint\">{{ hint }}</span>\n  <dfm-error [control]=\"control\"></dfm-error>\n  <div class=\"dropdown-menu dropdown-menu-end w-100 p-0\" (dfmDomChange)=\"checkIfDropdownIsClosed($event)\">\n    <ng-container *ngIf=\"loading; then loadingTemplate; else searchTemplate\"></ng-container>\n\n    <ng-template #loadingTemplate>\n      <div class=\"input-dropdown-item\">Loading...</div>\n    </ng-template>\n\n    <ng-template #searchTemplate>\n      <div *ngIf=\"search.length < minQueryLength\" class=\"input-dropdown-item type-to-search\">{{ typeToSearchText }}</div>\n      <ng-container *ngIf=\"search.length >= minQueryLength\">\n        <ng-container *ngIf=\"filteredItems && filteredItems.length; then itemsTemplate; else noItemsTemplate\"> </ng-container>\n      </ng-container>\n    </ng-template>\n\n    <ng-template #itemsTemplate>\n      <div *ngFor=\"let item of filteredItems\" (click)=\"selectItem(item)\" clickable class=\"input-dropdown-item option\">\n        <div class=\"option-content\">\n          {{ item.name }}\n          <span *ngIf=\"showDescription\" class=\"option-description\">{{ item.description }}</span>\n        </div>\n        <dfm-icon\n          *ngIf=\"value && ((!multiple && value === item.value) || (multiple && value.includes(item.value)))\"\n          name=\"check\"\n          class=\"option-selected\"\n        ></dfm-icon>\n      </div>\n    </ng-template>\n\n    <ng-template #noItemsTemplate>\n      <div class=\"input-dropdown-item\">No items found</div>\n    </ng-template>\n  </div>\n</div>\n", styles: [".input-dropdown{position:relative}.input-dropdown .input-dropdown-item{padding:10px 14px}.input-dropdown .option{display:flex;justify-content:space-between;cursor:pointer}.input-dropdown .option:hover{background-color:var(--dfm-input-dropdown-option-bg-hover)}.input-dropdown .option:hover:first-child{border-top-left-radius:8px;border-top-right-radius:8px}.input-dropdown .option:hover:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px}.input-dropdown .option .option-content{display:flex;align-items:center;gap:8px}.input-dropdown .option .option-description{color:var(--dfm-input-dropdown-option-description-color);font-size:14px;font-weight:400;line-height:20px}.input-dropdown .option .option-selected{width:20px;height:20px;color:var(--dfm-input-dropdown-option-selected-color)}.input-dropdown .selected-items{position:absolute;top:7px;right:8px;display:flex;justify-content:flex-end;flex-wrap:wrap;gap:8px;max-width:calc(100% - 200px)}.input-dropdown .selected-items-with-dropdown-icon{right:43px}.input-dropdown .input-container{position:relative}.input-dropdown .input-container .dropdown-icon{position:absolute;display:block;right:15px;bottom:12px;width:20px;height:20px;color:var(--dfm-input-dropdown-chevron-icon-color);cursor:pointer}.input-dropdown.input-dropdown-sm .input-container .dropdown-icon{bottom:8px;right:14px}\n"], dependencies: [{ kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: i3.IconComponent, selector: "dfm-icon", inputs: ["name"] }, { kind: "component", type: i4.InputComponent, selector: "dfm-input", inputs: ["type", "size", "label", "placeholder", "disabled", "hint", "icon", "isInvalid", "readonly"] }, { kind: "component", type: i5.TagComponent, selector: "dfm-tag", inputs: ["color", "size", "action", "count", "icon"], outputs: ["closeAction"] }, { kind: "component", type: i6.ErrorComponent, selector: "dfm-error", inputs: ["control"] }, { kind: "directive", type: i7.DomChangeDirective, selector: "[dfmDomChange]", outputs: ["dfmDomChange"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "14.2.12", ngImport: i0, type: InputDropdownComponent, decorators: [{
            type: Component,
            args: [{ selector: 'dfm-input-dropdown', template: "<div class=\"dropdown input-dropdown input-dropdown-{{ size }}\">\n  <div #dropdown>\n    <div class=\"input-container\">\n      <dfm-input\n        [placeholder]=\"placeholder\"\n        [icon]=\"icon\"\n        [size]=\"size\"\n        [ngModel]=\"search\"\n        (ngModelChange)=\"updateSearch($event)\"\n        (focusout)=\"focusout($event)\"\n        [isInvalid]=\"!!(control && control.touched && !control.valid)\"\n        [readonly]=\"!typeToSearch\"\n        [label]=\"label\"\n        (click)=\"openDropdown()\"\n        #searchInputRef\n      ></dfm-input>\n      <dfm-icon name=\"chevron-down\" *ngIf=\"!typeToSearch\" class=\"dropdown-icon\"></dfm-icon>\n    </div>\n  </div>\n  <div *ngIf=\"selectedItemTags.length\" class=\"selected-items\" [class.selected-items-with-dropdown-icon]=\"!typeToSearch\" #selectedItemsContainerRef>\n    <dfm-tag\n      *ngFor=\"let selectedItem of selectedItemTags; let i = index\"\n      color=\"brown\"\n      [action]=\"selectedItemTagsUnionIndex === i ? null : 'close'\"\n      size=\"lg\"\n      (closeAction)=\"removeItem(selectedItem)\"\n      #selectedItemRef\n      >{{ selectedItem.name }}</dfm-tag\n    >\n  </div>\n  <span *ngIf=\"hint\" class=\"dfm-input-hint\">{{ hint }}</span>\n  <dfm-error [control]=\"control\"></dfm-error>\n  <div class=\"dropdown-menu dropdown-menu-end w-100 p-0\" (dfmDomChange)=\"checkIfDropdownIsClosed($event)\">\n    <ng-container *ngIf=\"loading; then loadingTemplate; else searchTemplate\"></ng-container>\n\n    <ng-template #loadingTemplate>\n      <div class=\"input-dropdown-item\">Loading...</div>\n    </ng-template>\n\n    <ng-template #searchTemplate>\n      <div *ngIf=\"search.length < minQueryLength\" class=\"input-dropdown-item type-to-search\">{{ typeToSearchText }}</div>\n      <ng-container *ngIf=\"search.length >= minQueryLength\">\n        <ng-container *ngIf=\"filteredItems && filteredItems.length; then itemsTemplate; else noItemsTemplate\"> </ng-container>\n      </ng-container>\n    </ng-template>\n\n    <ng-template #itemsTemplate>\n      <div *ngFor=\"let item of filteredItems\" (click)=\"selectItem(item)\" clickable class=\"input-dropdown-item option\">\n        <div class=\"option-content\">\n          {{ item.name }}\n          <span *ngIf=\"showDescription\" class=\"option-description\">{{ item.description }}</span>\n        </div>\n        <dfm-icon\n          *ngIf=\"value && ((!multiple && value === item.value) || (multiple && value.includes(item.value)))\"\n          name=\"check\"\n          class=\"option-selected\"\n        ></dfm-icon>\n      </div>\n    </ng-template>\n\n    <ng-template #noItemsTemplate>\n      <div class=\"input-dropdown-item\">No items found</div>\n    </ng-template>\n  </div>\n</div>\n", styles: [".input-dropdown{position:relative}.input-dropdown .input-dropdown-item{padding:10px 14px}.input-dropdown .option{display:flex;justify-content:space-between;cursor:pointer}.input-dropdown .option:hover{background-color:var(--dfm-input-dropdown-option-bg-hover)}.input-dropdown .option:hover:first-child{border-top-left-radius:8px;border-top-right-radius:8px}.input-dropdown .option:hover:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px}.input-dropdown .option .option-content{display:flex;align-items:center;gap:8px}.input-dropdown .option .option-description{color:var(--dfm-input-dropdown-option-description-color);font-size:14px;font-weight:400;line-height:20px}.input-dropdown .option .option-selected{width:20px;height:20px;color:var(--dfm-input-dropdown-option-selected-color)}.input-dropdown .selected-items{position:absolute;top:7px;right:8px;display:flex;justify-content:flex-end;flex-wrap:wrap;gap:8px;max-width:calc(100% - 200px)}.input-dropdown .selected-items-with-dropdown-icon{right:43px}.input-dropdown .input-container{position:relative}.input-dropdown .input-container .dropdown-icon{position:absolute;display:block;right:15px;bottom:12px;width:20px;height:20px;color:var(--dfm-input-dropdown-chevron-icon-color);cursor:pointer}.input-dropdown.input-dropdown-sm .input-container .dropdown-icon{bottom:8px;right:14px}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i1.NgControl, decorators: [{
                    type: Optional
                }] }, { type: i0.ElementRef }]; }, propDecorators: { items: [{
                type: Input
            }], label: [{
                type: Input
            }], placeholder: [{
                type: Input
            }], hint: [{
                type: Input
            }], showDescription: [{
                type: Input
            }], multiple: [{
                type: Input
            }], size: [{
                type: Input
            }], icon: [{
                type: Input
            }], minQueryLength: [{
                type: Input
            }], typeToSearch: [{
                type: Input
            }], typeToSearchText: [{
                type: Input
            }], loading: [{
                type: Input
            }], asyncSearch: [{
                type: Input
            }], searchInput: [{
                type: Output
            }], menuClosed: [{
                type: Output
            }], selectedItemsContainerRef: [{
                type: ViewChild,
                args: ['selectedItemsContainerRef']
            }], selectedItemsRef: [{
                type: ViewChildren,
                args: ['selectedItemRef', { read: ElementRef }]
            }], searchInputRef: [{
                type: ViewChild,
                args: ['searchInputRef', { read: ElementRef }]
            }], dropdownRef: [{
                type: ViewChild,
                args: ['dropdown']
            }], clickInside: [{
                type: HostListener,
                args: ['click']
            }], clickout: [{
                type: HostListener,
                args: ['document:click', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5wdXQtZHJvcGRvd24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvZGlmbGV4bW8tYW5ndWxhci1kZXNpZ24vc3JjL2xpYi9kZXNpZ24tc3lzdGVtL21vZHVsZXMvaW5wdXQtZHJvcGRvd24vaW5wdXQtZHJvcGRvd24uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvZGlmbGV4bW8tYW5ndWxhci1kZXNpZ24vc3JjL2xpYi9kZXNpZ24tc3lzdGVtL21vZHVsZXMvaW5wdXQtZHJvcGRvd24vaW5wdXQtZHJvcGRvd24uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUdMLFNBQVMsRUFDVCxVQUFVLEVBQ1YsWUFBWSxFQUNaLFlBQVksRUFDWixLQUFLLEVBR0wsUUFBUSxFQUNSLE1BQU0sRUFHTixTQUFTLEVBQ1QsWUFBWSxHQUNiLE1BQU0sZUFBZSxDQUFDO0FBRXZCLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFDckMsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFFeEUsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sZ0NBQWdDLENBQUM7Ozs7Ozs7OztBQVExRSxNQUFNLE9BQU8sc0JBQXVCLFNBQVEsd0JBQXdCO0lBeURsRSxZQUFvQixrQkFBcUMsRUFBcUIsT0FBa0IsRUFBVSxJQUFnQjtRQUN4SCxLQUFLLEVBQUUsQ0FBQztRQURVLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBbUI7UUFBcUIsWUFBTyxHQUFQLE9BQU8sQ0FBVztRQUFVLFNBQUksR0FBSixJQUFJLENBQVk7UUF4RDFHLFVBQUssR0FBaUIsRUFBRSxDQUFDO1FBRXpCLFVBQUssR0FBVyxFQUFFLENBQUM7UUFFbkIsZ0JBQVcsR0FBVyxFQUFFLENBQUM7UUFFekIsU0FBSSxHQUFXLEVB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QVk7dUJBQUMsaUJBQWlCLEVBQUUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFO2dCQUVGLGNBQWM7c0JBQWhFLFNBQVM7dUJBQUMsZ0JBQWdCLEVBQUUsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFO2dCQUUxQixXQUFXO3NCQUFqQyxTQUFTO3VCQUFDLFVBQVU7Z0JBaUNyQixXQUFXO3NCQURWLFlBQVk7dUJBQUMsT0FBTztnQkFNckIsUUFBUTtzQkFEUCxZQUFZO3VCQUFDLGdCQUFnQixFQUFFLENBQUMsUUFBUSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBIb3N0TGlzdGVuZXIsXG4gIElucHV0LFxuICBPbkNoYW5nZXMsXG4gIE9uSW5pdCxcbiAgT3B0aW9uYWwsXG4gIE91dHB1dCxcbiAgUXVlcnlMaXN0LFxuICBTaW1wbGVDaGFuZ2VzLFxuICBWaWV3Q2hpbGQsXG4gIFZpZXdDaGlsZHJlbixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOZ0NvbnRyb2wgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBEcm9wZG93biB9IGZyb20gJ2Jvb3RzdHJhcCc7XG5pbXBvcnQgeyBJdGVtc0NvbXBhY3RIZWxwZXIgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2l0ZW1zLWNvbXBhY3QtaGVscGVyJztcbmltcG9ydCB7IElucHV0U2l6ZSB9IGZyb20gJy4uLy4uL3R5cGVzL2lucHV0LXNpemUudHlwZSc7XG5pbXBvcnQgeyBCYXNlQ29udHJvbFZhbHVlQWNjZXNzb3IgfSBmcm9tICcuLi9iYXNlLWNvbnRyb2wtdmFsdWUtYWNjZXNzb3InO1xuaW1wb3J0IHsgU2VsZWN0SXRlbSB9IGZyb20gJy4vbW9kZWxzL3NlbGVjdC1pdGVtJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnZGZtLWlucHV0LWRyb3Bkb3duJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2lucHV0LWRyb3Bkb3duLmNvbXBvbmVudC5odG1sJyxcbiAgc3R5bGVVcmxzOiBbJy4vaW5wdXQtZHJvcGRvd24uY29tcG9uZW50LnNjc3MnXSxcbn0pXG5leHBvcnQgY2xhc3MgSW5wdXREcm9wZG93bkNvbXBvbmVudCBleHRlbmRzIEJhc2VDb250cm9sVmFsdWVBY2Nlc3NvciBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJWaWV3SW5pdCwgT25DaGFuZ2VzIHtcbiAgQElucHV0KCkgcHVibGljIGl0ZW1zOiBTZWxlY3RJdGVtW10gPSBbXTtcblxuICBASW5wdXQoKSBwdWJsaWMgbGFiZWw6IHN0cmluZyA9ICcnO1xuXG4gIEBJbnB1dCgpIHB1YmxpYyBwbGFjZWhvbGRlcjogc3RyaW5nID0gJyc7XG5cbiAgQElucHV0KCkgcHVibGljIGhpbnQ6IHN0cmluZyA9ICcnO1xuXG4gIEBJbnB1dCgpIHB1YmxpYyBzaG93RGVzY3JpcHRpb246IGJvb2xlYW4gPSB0cnVlO1xuXG4gIEBJbnB1dCgpIHB1YmxpYyBtdWx0aXBsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIEBJbnB1dCgpIHB1YmxpYyBzaXplOiBJbnB1dFNpemUgPSAnbWQnO1xuXG4gIEBJbnB1dCgpIHB1YmxpYyBpY29uOiBzdHJpbmcgPSAnJztcblxuICBASW5wdXQoKSBwdWJsaWMgbWluUXVlcnlMZW5ndGg6IG51bWJlciA9IDA7XG5cbiAgQElucHV0KCkgcHVibGljIHR5cGVUb1NlYXJjaDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIEBJbnB1dCgpIHB1YmxpYyB0eXBlVG9TZWFyY2hUZXh0OiBzdHJpbmcgPSAnJztcblxuICBASW5wdXQoKSBwdWJsaWMgbG9hZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIEBJbnB1dCgpIHB1YmxpYyBhc3luY1NlYXJjaDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIEBPdXRwdXQoKSBwdWJsaWMgc2VhcmNoSW5wdXQgPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcblxuICBAT3V0cHV0KCkgcHVibGljIG1lbnVDbG9zZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQFZpZXdDaGlsZCgnc2VsZWN0ZWRJdGVtc0NvbnRhaW5lclJlZicpIHNlbGVjdGVkSXRlbXNDb250YWluZXJSZWYhOiBFbGVtZW50UmVmO1xuXG4gIEBWaWV3Q2hpbGRyZW4oJ3NlbGVjdGVkSXRlbVJlZicsIHsgcmVhZDogRWxlbWVudFJlZiB9KSBzZWxlY3RlZEl0ZW1zUmVmITogUXVlcnlMaXN0PEVsZW1lbnRSZWY+O1xuXG4gIEBWaWV3Q2hpbGQoJ3NlYXJjaElucHV0UmVmJywgeyByZWFkOiBFbGVtZW50UmVmIH0pIHNlYXJjaElucHV0UmVmITogRWxlbWVudFJlZjtcblxuICBAVmlld0NoaWxkKCdkcm9wZG93bicpIGRyb3Bkb3duUmVmITogRWxlbWVudFJlZjtcblxuICBwdWJsaWMgc2VhcmNoOiBzdHJpbmcgPSAnJztcblxuICBwdWJsaWMgc2VsZWN0ZWRJdGVtVGFnczogU2VsZWN0SXRlbVtdID0gW107XG5cbiAgcHVibGljIHNlbGVjdGVkSXRlbVRhZ3NVbmlvbkluZGV4PzogbnVtYmVyO1xuXG4gIHB1YmxpYyBmaWx0ZXJlZEl0ZW1zOiBTZWxlY3RJdGVtW10gPSBbXTtcblxuICBwcml2YXRlIGRlZmF1bHRNdWx0aXBsZURyb3Bkb3duUGFkZGluZ1JpZ2h0ID0gODtcblxuICBwcml2YXRlIG11bHRpcGxlRHJvcGRvd25XaXRoSWNvblBhZGRpbmdSaWdodCA9IDUxO1xuXG4gIHByaXZhdGUgaXNEcm9wZG93bkNsb3NlZDogYm9vbGVhbiA9IHRydWU7XG5cbiAgcHJpdmF0ZSBkcm9wZG93bkluc3RhbmNlPzogRHJvcGRvd247XG5cbiAgcHVibGljIHNlbGVjdGVkSXRlbXM6IFNlbGVjdEl0ZW1bXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgY2hhbmdlRGV0ZWN0aW9uUmVmOiBDaGFuZ2VEZXRlY3RvclJlZiwgQE9wdGlvbmFsKCkgcHVibGljIGNvbnRyb2w6IE5nQ29udHJvbCwgcHJpdmF0ZSBlUmVmOiBFbGVtZW50UmVmKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMudmFsdWUgPSBudWxsO1xuXG4gICAgaWYgKHRoaXMuY29udHJvbCkge1xuICAgICAgdGhpcy5jb250cm9sLnZhbHVlQWNjZXNzb3IgPSB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgd2FzSW5zaWRlID0gZmFsc2U7XG5cbiAgQEhvc3RMaXN0ZW5lcignY2xpY2snKVxuICBjbGlja0luc2lkZSgpIHtcbiAgICB0aGlzLndhc0luc2lkZSA9IHRydWU7XG4gIH1cblxuICBASG9zdExpc3RlbmVyKCdkb2N1bWVudDpjbGljaycsIFsnJGV2ZW50J10pXG4gIGNsaWNrb3V0KCkge1xuICAgIGlmICghdGhpcy53YXNJbnNpZGUpIHtcbiAgICAgIHRoaXMuZHJvcGRvd25JbnN0YW5jZT8uaGlkZSgpO1xuICAgIH1cblxuICAgIHRoaXMud2FzSW5zaWRlID0gZmFsc2U7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5taW5RdWVyeUxlbmd0aCAmJiAhdGhpcy50eXBlVG9TZWFyY2hUZXh0KSB7XG4gICAgICB0aGlzLnR5cGVUb1NlYXJjaFRleHQgPSBgUGxlYXNlIGVudGVyICR7dGhpcy5taW5RdWVyeUxlbmd0aH0gb3IgbW9yZSBjaGFyYWN0ZXJzYDtcbiAgICB9XG5cbiAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSBbLi4udGhpcy5pdGVtc107XG4gIH1cblxuICBuZ0FmdGVyVmlld0luaXQoKTogdm9pZCB7XG4gICAgdGhpcy5kcm9wZG93bkluc3RhbmNlID0gRHJvcGRvd24uZ2V0T3JDcmVhdGVJbnN0YW5jZSh0aGlzLmRyb3Bkb3duUmVmLm5hdGl2ZUVsZW1lbnQsIHtcbiAgICAgIG9mZnNldDogWzAsIDNdLFxuICAgIH0pO1xuICB9XG5cbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xuICAgIGlmIChjaGFuZ2VzWydpdGVtcyddPy5wcmV2aW91c1ZhbHVlICE9PSBjaGFuZ2VzWydpdGVtcyddPy5jdXJyZW50VmFsdWUpIHtcbiAgICAgIHRoaXMuZmlsdGVyZWRJdGVtcyA9IFsuLi5jaGFuZ2VzWydpdGVtcyddLmN1cnJlbnRWYWx1ZV07XG4gICAgfVxuICB9XG5cbiAgb3ZlcnJpZGUgd3JpdGVWYWx1ZSh2YWx1ZTogc3RyaW5nIHwgc3RyaW5nW10pIHtcbiAgICB0aGlzLnJlc2V0SW5wdXREcm9wZG93bigpO1xuXG4gICAgaWYgKCF0aGlzLm11bHRpcGxlKSB7XG4gICAgICBjb25zdCBpdGVtID0gdGhpcy5pdGVtcy5maW5kKChpKSA9PiBpLnZhbHVlID09PSB2YWx1ZSk7XG5cbiAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgIHRoaXMudXBkYXRlSW5wdXREcm9wZG93bihpdGVtLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCkge1xuICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLml0ZW1zLmZpbHRlcigoaSkgPT4gdmFsdWUuaW5jbHVkZXMoaS52YWx1ZSkpO1xuICAgICAgaXRlbXMuZm9yRWFjaCgoaSkgPT4gdGhpcy51cGRhdGVJbnB1dERyb3Bkb3duKGksIGZhbHNlKSk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlU2VhcmNoKHF1ZXJ5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLnNlYXJjaCA9IHF1ZXJ5O1xuXG4gICAgaWYgKCF0aGlzLm11bHRpcGxlICYmIHRoaXMudmFsdWUpIHtcbiAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgIH1cblxuICAgIGlmIChxdWVyeSAmJiBxdWVyeS5sZW5ndGggPj0gdGhpcy5taW5RdWVyeUxlbmd0aCkge1xuICAgICAgdGhpcy5zZWFyY2hJbnB1dC5lbWl0KHF1ZXJ5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5maWx0ZXJlZEl0ZW1zID0gdGhpcy5hc3luY1NlYXJjaCA/IFtdIDogWy4uLnRoaXMuaXRlbXNdO1xuICAgIH1cbiAgfVxuXG4gIHNlYXJjaEl0ZW1zKHF1ZXJ5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBsb3dlckNhc2VRdWVyeSA9IHF1ZXJ5LnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5maWx0ZXJlZEl0ZW1zID0gdGhpcy5pdGVtcy5maWx0ZXIoXG4gICAgICAoaSkgPT5cbiAgICAgICAgaS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJDYXNlUXVlcnkpIHx8XG4gICAgICAgIGkudmFsdWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlckNhc2VRdWVyeSkgfHxcbiAgICAgICAgaS5kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlckNhc2VRdWVyeSksXG4gICAgKTtcbiAgfVxuXG4gIHNlbGVjdEl0ZW0oaXRlbTogU2VsZWN0SXRlbSk6IHZvaWQge1xuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSB0aGlzLm11bHRpcGxlID8gdGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlLmluY2x1ZGVzKGl0ZW0udmFsdWUpIDogdGhpcy52YWx1ZSA9PT0gaXRlbS52YWx1ZTtcbiAgICB0aGlzLnVwZGF0ZUlucHV0RHJvcGRvd24oaXRlbSwgaXNTZWxlY3RlZCk7XG4gIH1cblxuICByZW1vdmVJdGVtKGl0ZW06IFNlbGVjdEl0ZW0pOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZU11bHRpSW5wdXREcm9wZG93bihpdGVtLCB0cnVlKTtcbiAgfVxuXG4gIHVwZGF0ZVNlbGVjdGVkSXRlbXMoKTogdm9pZCB7XG4gICAgY29uc3QgaXRlbXNVbmlvbiA9IEl0ZW1zQ29tcGFjdEhlbHBlci5nZXRJdGVtc1VuaW9uKCk7XG5cbiAgICB0aGlzLnNlbGVjdGVkSXRlbVRhZ3MgPSBbLi4udGhpcy5zZWxlY3RlZEl0ZW1zLCBpdGVtc1VuaW9uXTtcbiAgICB0aGlzLmNoYW5nZURldGVjdGlvblJlZi5kZXRlY3RDaGFuZ2VzKCk7XG5cbiAgICBjb25zdCB7IGl0ZW1zLCBpdGVtc1VuaW9uSW5kZXgsIGNvbnRhaW5lcldpZHRoIH0gPSBJdGVtc0NvbXBhY3RIZWxwZXIuY29tcGFjdEl0ZW1zKFxuICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1UYWdzLFxuICAgICAgdGhpcy5zZWFyY2hJbnB1dFJlZi5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoIC0gMjEwLFxuICAgICAgOCxcbiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtc1JlZixcbiAgICApO1xuXG4gICAgdGhpcy5zZWxlY3RlZEl0ZW1UYWdzID0gWy4uLml0ZW1zXTtcbiAgICB0aGlzLnNlbGVjdGVkSXRlbVRhZ3NVbmlvbkluZGV4ID0gaXRlbXNVbmlvbkluZGV4O1xuXG4gICAgY29uc3QgcGFkZGluZ1JpZ2h0ID0gdGhpcy50eXBlVG9TZWFyY2ggPyB0aGlzLmRlZmF1bHRNdWx0aXBsZURyb3Bkb3duUGFkZGluZ1JpZ2h0IDogdGhpcy5tdWx0aXBsZURyb3Bkb3duV2l0aEljb25QYWRkaW5nUmlnaHQ7XG4gICAgdGhpcy5zZWFyY2hJbnB1dFJlZi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5kZm0taW5wdXQnKS5zdHlsZS5wYWRkaW5nUmlnaHQgPSBgJHtjb250YWluZXJXaWR0aCArIHBhZGRpbmdSaWdodH1weGA7XG4gIH1cblxuICBvcGVuRHJvcGRvd24oKSB7XG4gICAgdGhpcy5kcm9wZG93bkluc3RhbmNlPy5zaG93KCk7XG4gIH1cblxuICBjaGVja0lmRHJvcGRvd25Jc0Nsb3NlZChtdXRhdGlvblJlY29yZDogTXV0YXRpb25SZWNvcmQpIHtcbiAgICBpZiAobXV0YXRpb25SZWNvcmQudHlwZSA9PT0gJ2F0dHJpYnV0ZXMnICYmIG11dGF0aW9uUmVjb3JkLmF0dHJpYnV0ZU5hbWUgPT09ICdjbGFzcycpIHtcbiAgICAgIHRoaXMuaXNEcm9wZG93bkNsb3NlZCA9ICF0aGlzLmlzRHJvcGRvd25DbG9zZWQ7XG5cbiAgICAgIGlmICh0aGlzLmlzRHJvcGRvd25DbG9zZWQpIHtcbiAgICAgICAgdGhpcy5tZW51Q2xvc2VkLmVtaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIHVwZGF0ZUlucHV0RHJvcGRvd24oaXRlbTogU2VsZWN0SXRlbSwgaXNTZWxlY3RlZDogYm9vbGVhbik6IHZvaWQge1xuICAgIGlmICh0aGlzLm11bHRpcGxlKSB7XG4gICAgICB0aGlzLnVwZGF0ZU11bHRpSW5wdXREcm9wZG93bihpdGVtLCBpc1NlbGVjdGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy51cGRhdGVTaW5nbGVJbnB1dERyb3Bkb3duKGl0ZW0pO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlTXVsdGlJbnB1dERyb3Bkb3duKGl0ZW06IFNlbGVjdEl0ZW0sIGlzU2VsZWN0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudmFsdWUuZmlsdGVyKChpOiBzdHJpbmcpID0+IGkgIT09IGl0ZW0udmFsdWUpO1xuICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zID0gdGhpcy5zZWxlY3RlZEl0ZW1zLmZpbHRlcigoaSkgPT4gaS52YWx1ZSAhPT0gaXRlbS52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlICYmIHRoaXMudmFsdWUubGVuZ3RoID8gWy4uLnRoaXMudmFsdWUsIGl0ZW0udmFsdWVdIDogW2l0ZW0udmFsdWVdO1xuICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zLnB1c2goaXRlbSk7XG4gICAgfVxuXG4gICAgdGhpcy51cGRhdGVTZWxlY3RlZEl0ZW1zKCk7XG5cbiAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSB0aGlzLmFzeW5jU2VhcmNoID8gW10gOiBbLi4udGhpcy5pdGVtc107XG4gICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlU2luZ2xlSW5wdXREcm9wZG93bihpdGVtOiBTZWxlY3RJdGVtKTogdm9pZCB7XG4gICAgdGhpcy5zZXRTaW5nbGVJbnB1dERyb3Bkb3duKGl0ZW0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRTaW5nbGVJbnB1dERyb3Bkb3duKGl0ZW06IFNlbGVjdEl0ZW0pOiB2b2lkIHtcbiAgICB0aGlzLnZhbHVlID0gaXRlbS52YWx1ZTtcbiAgICB0aGlzLnNlYXJjaCA9IGl0ZW0ubmFtZTtcblxuICAgIGlmICh0aGlzLmFzeW5jU2VhcmNoKSB7XG4gICAgICB0aGlzLmZpbHRlcmVkSXRlbXMgPSBbaXRlbV07XG4gICAgfVxuXG4gICAgdGhpcy5kcm9wZG93bkluc3RhbmNlPy5oaWRlKCk7XG4gIH1cblxuICBwcml2YXRlIHJlc2V0SW5wdXREcm9wZG93bigpOiB2b2lkIHtcbiAgICB0aGlzLnZhbHVlID0gbnVsbDtcbiAgICB0aGlzLnNlYXJjaCA9ICcnO1xuICAgIHRoaXMuc2VsZWN0ZWRJdGVtcyA9IFtdO1xuICAgIHRoaXMuZmlsdGVyZWRJdGVtcyA9IHRoaXMuYXN5bmNTZWFyY2ggPyBbXSA6IFsuLi50aGlzLml0ZW1zXTtcbiAgICB0aGlzLnVwZGF0ZVNlbGVjdGVkSXRlbXMoKTtcbiAgfVxuXG4gIHB1YmxpYyBmb2N1c291dCh2YWx1ZTogYW55KSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuc2VhcmNoKSB7XG4gICAgICAgIHRoaXMub25Ub3VjaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSwgMjUwKTtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cImRyb3Bkb3duIGlucHV0LWRyb3Bkb3duIGlucHV0LWRyb3Bkb3duLXt7IHNpemUgfX1cIj5cbiAgPGRpdiAjZHJvcGRvd24+XG4gICAgPGRpdiBjbGFzcz1cImlucHV0LWNvbnRhaW5lclwiPlxuICAgICAgPGRmbS1pbnB1dFxuICAgICAgICBbcGxhY2Vob2xkZXJdPVwicGxhY2Vob2xkZXJcIlxuICAgICAgICBbaWNvbl09XCJpY29uXCJcbiAgICAgICAgW3NpemVdPVwic2l6ZVwiXG4gICAgICAgIFtuZ01vZGVsXT1cInNlYXJjaFwiXG4gICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cInVwZGF0ZVNlYXJjaCgkZXZlbnQpXCJcbiAgICAgICAgKGZvY3Vzb3V0KT1cImZvY3Vzb3V0KCRldmVudClcIlxuICAgICAgICBbaXNJbnZhbGlkXT1cIiEhKGNvbnRyb2wgJiYgY29udHJvbC50b3VjaGVkICYmICFjb250cm9sLnZhbGlkKVwiXG4gICAgICAgIFtyZWFkb25seV09XCIhdHlwZVRvU2VhcmNoXCJcbiAgICAgICAgW2xhYmVsXT1cImxhYmVsXCJcbiAgICAgICAgKGNsaWNrKT1cIm9wZW5Ecm9wZG93bigpXCJcbiAgICAgICAgI3NlYXJjaElucHV0UmVmXG4gICAgICA+PC9kZm0taW5wdXQ+XG4gICAgICA8ZGZtLWljb24gbmFtZT1cImNoZXZyb24tZG93blwiICpuZ0lmPVwiIXR5cGVUb1NlYXJjaFwiIGNsYXNzPVwiZHJvcGRvd24taWNvblwiPjwvZGZtLWljb24+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuICA8ZGl2ICpuZ0lmPVwic2VsZWN0ZWRJdGVtVGFncy5sZW5ndGhcIiBjbGFzcz1cInNlbGVjdGVkLWl0ZW1zXCIgW2NsYXNzLnNlbGVjdGVkLWl0ZW1zLXdpdGgtZHJvcGRvd24taWNvbl09XCIhdHlwZVRvU2VhcmNoXCIgI3NlbGVjdGVkSXRlbXNDb250YWluZXJSZWY+XG4gICAgPGRmbS10YWdcbiAgICAgICpuZ0Zvcj1cImxldCBzZWxlY3RlZEl0ZW0gb2Ygc2VsZWN0ZWRJdGVtVGFnczsgbGV0IGkgPSBpbmRleFwiXG4gICAgICBjb2xvcj1cImJyb3duXCJcbiAgICAgIFthY3Rpb25dPVwic2VsZWN0ZWRJdGVtVGFnc1VuaW9uSW5kZXggPT09IGkgPyBudWxsIDogJ2Nsb3NlJ1wiXG4gICAgICBzaXplPVwibGdcIlxuICAgICAgKGNsb3NlQWN0aW9uKT1cInJlbW92ZUl0ZW0oc2VsZWN0ZWRJdGVtKVwiXG4gICAgICAjc2VsZWN0ZWRJdGVtUmVmXG4gICAgICA+e3sgc2VsZWN0ZWRJdGVtLm5hbWUgfX08L2RmbS10YWdcbiAgICA+XG4gIDwvZGl2PlxuICA8c3BhbiAqbmdJZj1cImhpbnRcIiBjbGFzcz1cImRmbS1pbnB1dC1oaW50XCI+e3sgaGludCB9fTwvc3Bhbj5cbiAgPGRmbS1lcnJvciBbY29udHJvbF09XCJjb250cm9sXCI+PC9kZm0tZXJyb3I+XG4gIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51IGRyb3Bkb3duLW1lbnUtZW5kIHctMTAwIHAtMFwiIChkZm1Eb21DaGFuZ2UpPVwiY2hlY2tJZkRyb3Bkb3duSXNDbG9zZWQoJGV2ZW50KVwiPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJsb2FkaW5nOyB0aGVuIGxvYWRpbmdUZW1wbGF0ZTsgZWxzZSBzZWFyY2hUZW1wbGF0ZVwiPjwvbmctY29udGFpbmVyPlxuXG4gICAgPG5nLXRlbXBsYXRlICNsb2FkaW5nVGVtcGxhdGU+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZHJvcGRvd24taXRlbVwiPkxvYWRpbmcuLi48L2Rpdj5cbiAgICA8L25nLXRlbXBsYXRlPlxuXG4gICAgPG5nLXRlbXBsYXRlICNzZWFyY2hUZW1wbGF0ZT5cbiAgICAgIDxkaXYgKm5nSWY9XCJzZWFyY2gubGVuZ3RoIDwgbWluUXVlcnlMZW5ndGhcIiBjbGFzcz1cImlucHV0LWRyb3Bkb3duLWl0ZW0gdHlwZS10by1zZWFyY2hcIj57eyB0eXBlVG9TZWFyY2hUZXh0IH19PC9kaXY+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwic2VhcmNoLmxlbmd0aCA+PSBtaW5RdWVyeUxlbmd0aFwiPlxuICAgICAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiZmlsdGVyZWRJdGVtcyAmJiBmaWx0ZXJlZEl0ZW1zLmxlbmd0aDsgdGhlbiBpdGVtc1RlbXBsYXRlOyBlbHNlIG5vSXRlbXNUZW1wbGF0ZVwiPiA8L25nLWNvbnRhaW5lcj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvbmctdGVtcGxhdGU+XG5cbiAgICA8bmctdGVtcGxhdGUgI2l0ZW1zVGVtcGxhdGU+XG4gICAgICA8ZGl2ICpuZ0Zvcj1cImxldCBpdGVtIG9mIGZpbHRlcmVkSXRlbXNcIiAoY2xpY2spPVwic2VsZWN0SXRlbShpdGVtKVwiIGNsaWNrYWJsZSBjbGFzcz1cImlucHV0LWRyb3Bkb3duLWl0ZW0gb3B0aW9uXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJvcHRpb24tY29udGVudFwiPlxuICAgICAgICAgIHt7IGl0ZW0ubmFtZSB9fVxuICAgICAgICAgIDxzcGFuICpuZ0lmPVwic2hvd0Rlc2NyaXB0aW9uXCIgY2xhc3M9XCJvcHRpb24tZGVzY3JpcHRpb25cIj57eyBpdGVtLmRlc2NyaXB0aW9uIH19PC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRmbS1pY29uXG4gICAgICAgICAgKm5nSWY9XCJ2YWx1ZSAmJiAoKCFtdWx0aXBsZSAmJiB2YWx1ZSA9PT0gaXRlbS52YWx1ZSkgfHwgKG11bHRpcGxlICYmIHZhbHVlLmluY2x1ZGVzKGl0ZW0udmFsdWUpKSlcIlxuICAgICAgICAgIG5hbWU9XCJjaGVja1wiXG4gICAgICAgICAgY2xhc3M9XCJvcHRpb24tc2VsZWN0ZWRcIlxuICAgICAgICA+PC9kZm0taWNvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbmctdGVtcGxhdGU+XG5cbiAgICA8bmctdGVtcGxhdGUgI25vSXRlbXNUZW1wbGF0ZT5cbiAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1kcm9wZG93bi1pdGVtXCI+Tm8gaXRlbXMgZm91bmQ8L2Rpdj5cbiAgICA8L25nLXRlbXBsYXRlPlxuICA8L2Rpdj5cbjwvZGl2PlxuIl19